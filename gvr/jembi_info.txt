REGISTRATION info requirements

jembi_send_json:

    mha:
        1
    swt:
        1
        (always 1 except for optout)
    dmsisdn:
        user.msisdn
    cmsisdn:
        contact.msisdn
    id:
        contact.extra.id_type [sa_id | passport | none]
        contact.extra.sa_id
        contact.extra.passport_no
        (see get_patient_id function for more info)
    type:
        1 - "subscription" aka personal
        2 - "pre-registration" aka chw
        3 - "registration" aka clinic
        4 - "optout"
        5 - "babyloss"
        6 - "servicerating"
    lang:
        contact.extra.language_choice
    encdate:
        current date in format "YYYYMMDDhhmmss"
    faccode:
        contact.extra.clinic_code | null
    dob:
        dob in format "YYYYMMDD" | null
        contact.extra.dob

    edd: (optional)
        only applicable if it is a clinic registration (type === "registration")
        see get_duedate_string function
        calculates a string eg. '20150803'
        contact.extra.due_date_day eg. 03
        contact.extra.due_date_month eg. 08

    Summary:
        user.msisdn
        contact.msisdn
        contact.extra.id_type
        contact.extra.language_choice
        contact.extra.due_date_day  // optional
        contact.extra.due_date_month  // optional
        contact.extra.sa_id  // optional
        contact.extra.passport_no  // optional
        contact.extra.clinic_code  // optional
        contact.extra.dob  // optional
        type - personal / chw / clinic


jembi_send_doc:

    uniqueId
        vumi utils.uuid
    createdTime
        date in format "YYYYMMDDHHmmss"
    pidCX
        contact.extra.id_type [sa_id | passport | none]
        contact.extra.sa_id
        contact.extra.passport_no
        (see get_patient_id function for more info)
    cellNumber
        contact.msisdn
    givenName
        null_element
    familyName
        null_element
    birthDate
        mom's dob in format "YYYYMMDD" or null_element
        contact.extra.dob
    languageCode
        contact.extra.language_choice
    time
        date in format "YYYYMMDDHHmmss"
    hcwCellNumber
        user.msisdn if different than contact.msisdn
        else null_element
    hcwCode
        contact.extra.clinic_code | '11399'
    hcwGivenName
        null_element
    hcwFamilyName
        null_element
    facilityCode
        contact.extra.clinic_code | '11399'
    facilityName
        null_element
    encounterDateTime
        date in format "YYYYMMDDHHmmss"
    effectiveTime
        date in format "YYYYMMDDHHmmss"
    date
        see get_duedate function
        calculates a string eg. '20150803'
        contact.extra.due_date_day eg. 03
        contact.extra.due_date_month eg. 08
        use '17000101' if duedate not available
    mobileHealthApplicationCode
        'PF'
    softwareName
        'Vumi'
    pregStatusCode
        '102874004' for chw
        '77386006' for clinic
    pregStatusDisplayName
        'Unconfirmed pregnancy' for chw
        'Pregnancy confirmed' for clinic

    Summary:
        user.msisdn
        contact.msisdn
        contact.extra.id_type
        contact.extra.language_choice
        contact.extra.due_date_day  // optional
        contact.extra.due_date_month  // optional
        contact.extra.sa_id  // optional
        contact.extra.passport_no  // optional
        contact.extra.clinic_code  // optional
        contact.extra.dob  // optional



subscription_send_doc:  (our subscriptions)
    contact_key
        contact.key
    lang
        contact.extra.language_choice
    message_set
        subscription type number:
        "subscription": {
            "standard": 1,
            "later": 2,
            "accelerated": 3,
            "baby1": 4,
            "baby2": 5,
            "miscarriage": 6,
            "stillbirth": 7,
            "babyloss": 8,
            "subscription": 9,
            "chw": 10
        },
    schedule
        two_per_week
    next_sequence_number
        1, OR for clinic requires:
        contact.extra.due_date_month
        contact.extra.due_date_day
        go.utils.calc_weeks()
        go.utils.protocol_mapper()
        go.utils.calc_sequence_start()
    to_addr
        contact.msisdn
    user_account
        contact.user_account

    Summary:
        contact.key
        contact.user_account
        contact.msisdn
        contact.extra.language_choice
        contact.extra.due_date_month
        contact.extra.due_date_day
        subscription source

